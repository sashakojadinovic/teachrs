<!DOCTYPE html>
<html lang="sr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description"
        content="Uvod u hemiju kroz dijalog. Saznaj šta je hemija i zašto je važna u svakodnevnom životu." />
    <title>Svet hemije</title>
    <link rel="stylesheet" href="../../css/main.css" />
</head>

<body>
    <div class="container">
        <div class="logo-container">
            <a href="/"><img src="/images/site-assets/logo.svg" width="200" height="60" alt="Site logo" /></a>
        </div>
        <article>
            <h1 class="title">Šta je hemija?</h1>
            <h2 class="subtitle">Uvod u hemiju. Supstanca, predmet proučavanja hemije</h2>
            <section class="dialogue" aria-label="Dijalog između Marka i Sare o hemiji">
                <div class="dialogue-turn show-after-1" data-speaker="Sara">
                    <img src="../../images/avatars/sara.svg" width="100" height="106" alt="Avatar Sare"
                        class="avatar" />
                    <p class="question">Ćao, Marko, ima li hemije među nama?</p>
                </div>

                <div class="dialogue-turn show-after-2" data-speaker="Marko">
                    <img src="../../images/avatars/marko.svg" width="100" height="106" alt="Avatar Marka"
                        class="avatar" />
                    <p class="answer">Ćao, Saro. Pa, hemija je svuda. I u nama i oko nas.</p>
                </div>
                <div class="dialogue-mix show-after-3" data-speaker="Marko i Sara">
                    <p>
                        <strong>Sara: </strong>Pitala sam te nešto drugo, ali svejedno pričaj, volim da te
                        slušam. &#x1F60A;
                    </p>
                    <p>
                        <strong>Marko: </strong>Onda slušaj. Hemija je divna nauka.
                    </p>
                    <p>
                        <strong>Sara: </strong>Čime se ta divna nauka bavi? Volela bih da mi predmet mog obožavanja
                        objasni
                        šta je predmet proučavanja hemije kao nauke. &#x1F60A;
                    </p>
                    <p>
                        <strong>Marko: </strong>Hemija se bavi proučavanjem <em>supstance</em>, pa možemo reći da je
                        predmet
                        proučavanja hemije - <em>supstanca</em>.
                    </p>
                    <p><strong>Sara: </strong>A šta je supstanca?</p>
                    <p>
                        <strong>Marko: </strong>Supstanca je sve što zauzima prostor i ima masu. Primera ima toliko
                        mnogo da mi je
                        sad teško da se setim nečega što nije sačinjeno od neke supstance.
                    </p>
                    <p>
                        <strong>Sara: </strong>A ljubav, Marko? Ljubav nema masu i ne zauzima prostor, iako mi se
                        trenutno čini
                        da mi stomak zauzimaju leptirići.
                    </p>
                    <p>
                        <strong>Marko: </strong>Da, u pravu si. Ljubav je emocija, nije supstanca, ali sve ono od čega
                        su
                        sačinjeni predmeti oko nas, pa i mi sami je supstanca.
                    </p>
                    <p>
                        <strong>Sara: </strong>Hoćeš da kažeš da je, na primer, moj telefon predmet i da je sačinjen od
                        raznih
                        supstanci, plastike, stakla, metala...
                    </p>
                    <p>
                        <strong>Marko: </strong>Tako je. Inače, postoji mnogo vrsta plastike. Slučajno znam da je tvoj
                        telefon
                        napravljen od plastike koja se u hemiji zove polikarbonat, a da su metalni delovi napravljeni od
                        metala koji
                        se zove aluminijum.
                    </p>
                    <p>
                        <strong>Sara: </strong>Sviđa mi se što te "slučajno" zanimalo da saznaš od kojih supstanci je
                        napravljen
                        moj telefon. &#x1F609;
                    </p>
                    <p><strong>Marko: </strong>Volim da znam sve što ima veze sa naukom, Saro.</p>
                    <p><strong>Sara: </strong>Voliš. To zvuči tako ljubavno, Marko.</p>
                    <p>
                        <strong>Marko: </strong>Verovala ili ne, ako naučno istražimo šta je ljubav, doći ćemo opet do
                        hemije i
                        nekih supstanci koje čine da se osećamo zaljubljeno.
                    </p>
                    <p><strong>Sara: </strong>Znači ima hemije. Znala sam. &#x1F60D;</p>
                </div>
            </section>
            <section class="resume">
                <div class="dialogue-turn show-after-3" data-speaker="Nastavnik">
                    <img src="../../images/avatars/teacher.svg" width="100" height="106" alt="Avatar nastavnika"
                        class="avatar" />
                    <p class="info">Hajde da zaključimo šta smo naučili.</p>
                </div>
                <div class="resume-description">
                    <dl class="glossary">
                        <dt>Hemija</dt>
                        <dd>
                            Prirodna nauka koja proučava supstancu, osobine supstanci i promene koje se sa supstancama
                            dešavaju.
                        </dd>
                        <dt>Supstanca</dt>
                        <dd>Sve što ima masu i zauzima prostor. Svi predmeti (fizička tela) sačinjeni su od supstanci.
                        </dd>
                    </dl>
                </div>
            </section>

            <!-- POČETAK KVIZA -->
            <section id="quiz-section" aria-label="Kviz o hemiji" style="margin-top: 3rem;">
                <div id="quiz-box"
                    style="max-width: 600px; margin: 2rem auto; font-family: sans-serif; border: 1px solid #ccc; border-radius: 12px; padding: 1.5rem; background: #f9fbff;">
                    <div style="display: flex; align-items: flex-start; gap: 1rem;">
                        <img src="../../images/avatars/teacher.svg" alt="Avatar nastavnika" width="80"
                            style="border-radius: 50%;" />
                        <div id="bubble" style="
                background: #eef;
                border-radius: 1rem;
                padding: 1rem 1.2rem;
                max-width: 400px;
                position: relative;
                font-family: sans-serif;
                box-shadow: 1px 1px 6px rgba(0, 0, 0, 0.1);
              ">
                            <p id="question-text" style="margin: 0; font-size: 1.1rem; font-weight: 600;">...</p>
                            <div style="
                  position: absolute;
                  top: 20px;
                  left: -10px;
                  width: 0;
                  height: 0;
                  border: 10px solid transparent;
                  border-right-color: #eef;
                "></div>
                        </div>
                    </div>

                    <div id="answers" style="margin-top: 1rem; display: flex; flex-direction: column; gap: 0.5rem;">
                    </div>

                    <div id="result" style="display: none; margin-top: 1rem; font-size: 1.1rem; text-align: center;"
                        role="alert" aria-live="polite">
                        <p id="feedback" style="font-weight: bold;"></p>
                        <a href="#" id="review-link"
                            style="display: none; color: #007bff; cursor: pointer; text-decoration: underline;">🔁
                            Klikni ovde da ponovo pročitaš lekciju</a>
                    </div>
                </div>
            </section>
            <!-- KRAJ KVIZA -->
        </article>
    </div>

    <script>
        const questions = [
            {
                text: "Koji je hemijski simbol za vodonik?",
                answers: ["H", "He", "O"],
                correct: "H",
            },
            {
                text: "Koliko protona ima atom ugljenika (C)?",
                answers: ["6", "12", "8"],
                correct: "6",
            },
            {
                text: "Koji element koristimo za pravljenje stakla?",
                answers: ["Natrijum", "Silicijum", "Hlor"],
                correct: "Silicijum",
            },
        ];

        let current = 0;
        let score = 0;

        const questionText = document.getElementById("question-text");
        const answersDiv = document.getElementById("answers");
        const resultDiv = document.getElementById("result");
        const feedback = document.getElementById("feedback");
        const reviewLink = document.getElementById("review-link");

        function showQuestion() {
            const q = questions[current];
            questionText.textContent = q.text;
            answersDiv.innerHTML = "";

            q.answers.forEach((ans) => {
                const btn = document.createElement("button");
                btn.textContent = ans;
                btn.style.padding = "0.5rem 1rem";
                btn.style.border = "1px solid #ccc";
                btn.style.borderRadius = "8px";
                btn.style.background = "#fff";
                btn.style.cursor = "pointer";
                btn.onmouseover = () => (btn.style.background = "#eef");
                btn.onmouseout = () => (btn.style.background = "#fff");

                btn.onclick = () => {
                    // On click disable all buttons to prevent multiple clicks
                    Array.from(answersDiv.children).forEach(b => b.disabled = true);

                    // Mark the clicked button green or red
                    if (ans === q.correct) {
                        score++;
                        btn.style.background = "#c8e6c9"; // svetlo zelena
                        btn.style.borderColor = "#388e3c"; // tamno zelena
                    } else {
                        btn.style.background = "#ffcdd2"; // svetlo crvena
                        btn.style.borderColor = "#d32f2f"; // tamno crvena

                        // Opcionalno: označi tačan odgovor
                        Array.from(answersDiv.children).forEach(b => {
                            if (b.textContent === q.correct) {
                                b.style.background = "#c8e6c9";
                                b.style.borderColor = "#388e3c";
                            }
                        });
                    }

                    // Nakon 1.2 sekundi ide na sledeće pitanje ili rezultat
                    setTimeout(() => {
                        current++;
                        if (current < questions.length) {
                            showQuestion();
                        } else {
                            showResult();
                        }
                    }, 1200);
                };
                answersDiv.appendChild(btn);
            });
        }

        function showResult() {
            questionText.textContent =
                "Gotovo! Tvoj rezultat je: " + score + " od " + questions.length + ".";
            answersDiv.innerHTML = "";
            resultDiv.style.display = "block";

            const successRatio = score / questions.length;

            if (successRatio >= 0.66) {
                feedback.textContent = "Odlično! Savladao si gradivo.";
                reviewLink.style.display = "none";
            } else {
                feedback.textContent = "Izgleda da ti treba još malo vežbe.";
                reviewLink.style.display = "inline";
                reviewLink.onclick = (e) => {
                    e.preventDefault();
                    resetQuiz();
                    window.scrollTo({ top: 0, behavior: "smooth" });

                };
            }
        }

        function resetQuiz() {
            current = 0;
            score = 0;
            resultDiv.style.display = "none";
            reviewLink.style.display = "none";
            feedback.textContent = "";
            showQuestion();
        }

        showQuestion();

    </script>

</body>

</html>